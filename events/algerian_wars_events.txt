add_namespace = algerian_wars
add_namespace = algeria
add_namespace = tunisia
add_namespace = libya

country_event = {
    id = algerian_wars.1
    title = algerian_wars.1.t
    desc = algerian_wars.1.d
    picture = GFX_report_event_election_vote
    
	trigger = {
		NOT = { has_country_flag = algeria_civil_war }
		date > 2018.6.5
	}
	
	fire_only_once = yes

    option = {
		name = algerian_wars.1.a
		ai_chance = { base = 100 }
		set_country_flag = algeria_civil_war
		set_global_flag = algerian_wars_started
		
		ISA = {
			transfer_state = 1167
			transfer_state = 1166
			transfer_state = 514
			load_oob = ISA_CIVIL_WAR
		}
		
		TRA = {
			transfer_state = 1162
			transfer_state = 1163
			transfer_state = 1164
			transfer_state = 1165
			load_oob = TRA_CIVIL_WAR
		}
		
		ALG = {
			declare_war_on = {
				target = ISA
				type = civil_war
			}
			declare_war_on = {
				target = TRA
				type = civil_war
			}
			load_oob = ALG_CIVIL_WAR
		}
		ISA = {
			declare_war_on = {
				target = TRA
				type = civil_war
			}
		}
    }
}

# Growing Tensions Between Algeria and Tunisia + Libya
country_event = {
    id = algeria.1
    title = algeria.1.t
    desc = algeria.1.d
    picture = GFX_report_event_election_vote
    
	trigger = {
		has_country_flag = algeria_civil_war
		has_country_flag = republic_defeated
		has_country_flag = islamists_defeated
		NOT = { has_country_flag = algeria_angered }
		NOT = { has_country_flag = algeria_not_angered }
	}
	
	fire_only_once = yes

    option = {
		name = algeria.1.a
		ai_chance = { base = 100 }
		set_country_flag = algeria_angered
		ALG = { country_event = { id = algeria.2 days = 7 } }
    }


    option = {
		name = algeria.1.b
		ai_chance = { base = 0 }
		set_country_flag = algeria_not_angered
    }
}

# The Algerian Wars Start
country_event = {
    id = algeria.2
    title = algeria.2.t
    desc = algeria.2.d
    picture = GFX_report_event_election_vote
    is_triggered_only = yes

    option = {
		name = algeria.2.a
		ai_chance = { base = 100 }
		ALG = { 
			declare_war_on = {
				target = TUN 
				type = algerian_wars
			}
		}
		ALG = {
			declare_war_on = {
				target = LBA 
				type = algerian_wars
			}
		}
		LBA = {
			create_faction = ANTI_ALGERIAN_PACT
			add_to_faction = TUN
			load_oob = LBA_ALGERIAN_WARS
		}
		TUN = {
			load_oob = TUN_ALGERIAN_WARS
		}
		ALG = {
			country_event = algeria.3
		}
    }
}

# Anti-Algerian Pact
country_event = {
    id = algeria.3
    title = algeria.3.t
    desc = algeria.3.d
    picture = GFX_report_event_election_vote
	is_triggered_only = yes

    option = {
		name = algeria.3.a
		ai_chance = { base = 100 }
    }
}
